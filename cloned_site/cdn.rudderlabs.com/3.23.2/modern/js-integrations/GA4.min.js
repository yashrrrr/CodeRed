var GA4_RS=function(e){"use strict";var t="Google Analytics 4 (GA4)";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n,o,s,i,a,c,u={exports:{}},l={exports:{}};function d(){if(o)return n;o=1;var e=1e3,t=60*e,r=60*t,s=24*r,i=365.25*s;function a(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}return n=function(n,o){o=o||{};var c=typeof n;if("string"===c&&n.length>0)return function(n){if((n=String(n)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(!o)return;var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(n);if("number"===c&&!1===isNaN(n))return o.long?function(n){return a(n,s,"day")||a(n,r,"hour")||a(n,t,"minute")||a(n,e,"second")||n+" ms"}(n):function(n){if(n>=s)return Math.round(n/s)+"d";if(n>=r)return Math.round(n/r)+"h";if(n>=t)return Math.round(n/t)+"m";if(n>=e)return Math.round(n/e)+"s";return n+"ms"}(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))},n}function p(){return s||(s=1,function(e,t){var r;function n(e){function n(){if(n.enabled){var e=n,o=+new Date,s=o-(r||o);e.diff=s,e.prev=r,e.curr=o,r=o;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;c++;var o=t.formatters[n];if("function"==typeof o){var s=i[c];r=o.call(e,s),i.splice(c,1),c--}return r}),t.formatArgs.call(e,i),(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=d(),t.names=[],t.skips=[],t.formatters={}}(l,l.exports)),l.exports}var f=function(){if(c)return a;c=1;var e=(i||(i=1,function(e,t){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=p()).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))}),e.splice(s,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}(u,u.exports)),u.exports)("cookie");function t(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,r={},o=e.split(/ *; */);if(""==o[0])return r;for(var s=0;s<o.length;++s)r[n((t=o[s].split("="))[0])]=n(t[1]);return r}(e)}function r(t){try{return encodeURIComponent(t)}catch(r){e("error `encode(%o)` - %o",t,r)}}function n(t){try{return decodeURIComponent(t)}catch(r){e("error `decode(%o)` - %o",t,r)}}return a=function(e,n,o){switch(arguments.length){case 3:case 2:return function(e,t,n){n=n||{};var o=r(e)+"="+r(t);null==t&&(n.maxage=-1);n.maxage&&(n.expires=new Date(+new Date+n.maxage));n.path&&(o+="; path="+n.path);n.domain&&(o+="; domain="+n.domain);n.expires&&(o+="; expires="+n.expires.toUTCString());n.samesite&&(o+="; samesite="+n.samesite);n.secure&&(o+="; secure");document.cookie=o}(e,n,o);case 1:return function(e){return t()[e]}(e);default:return t()}},a}();const m=r(f);var y,g,h,v,_,b,w,A={exports:{}},E={exports:{}},O={exports:{}};function I(){if(g)return y;g=1;var e=1e3,t=60*e,r=60*t,n=24*r,o=365.25*n;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}return y=function(i,a){a=a||{};var c=typeof i;if("string"===c&&i.length>0)return function(s){if((s=String(s)).length>100)return;var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(s);if(!i)return;var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*o;case"days":case"day":case"d":return a*n;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(i);if("number"===c&&!1===isNaN(i))return a.long?function(o){return s(o,n,"day")||s(o,r,"hour")||s(o,t,"minute")||s(o,e,"second")||o+" ms"}(i):function(o){if(o>=n)return Math.round(o/n)+"d";if(o>=r)return Math.round(o/r)+"h";if(o>=t)return Math.round(o/t)+"m";if(o>=e)return Math.round(o/e)+"s";return o+"ms"}(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))},y}function K(){return h||(h=1,function(e,t){var r;function n(e){function n(){if(n.enabled){var e=n,o=+new Date,s=o-(r||o);e.diff=s,e.prev=r,e.curr=o,r=o;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;c++;var o=t.formatters[n];if("function"==typeof o){var s=i[c];r=o.call(e,s),i.splice(c,1),c--}return r}),t.formatArgs.call(e,i),(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=I(),t.names=[],t.skips=[],t.formatters={}}(O,O.exports)),O.exports}function S(){if(b)return _;b=1;var e=(v||(v=1,function(e,t){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=K()).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))}),e.splice(s,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}(E,E.exports)),E.exports)("cookie");function t(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,r={},o=e.split(/ *; */);if(""==o[0])return r;for(var s=0;s<o.length;++s)r[n((t=o[s].split("="))[0])]=n(t[1]);return r}(e)}function r(t){try{return encodeURIComponent(t)}catch(r){e("error `encode(%o)` - %o",t,r)}}function n(t){try{return decodeURIComponent(t)}catch(r){e("error `decode(%o)` - %o",t,r)}}return _=function(e,n,o){switch(arguments.length){case 3:case 2:return function(e,t,n){n=n||{};var o=r(e)+"="+r(t);null==t&&(n.maxage=-1);n.maxage&&(n.expires=new Date(+new Date+n.maxage));n.path&&(o+="; path="+n.path);n.domain&&(o+="; domain="+n.domain);n.expires&&(o+="; expires="+n.expires.toUTCString());n.secure&&(o+="; secure");document.cookie=o}(e,n,o);case 1:return function(e){return t()[e]}(e);default:return t()}},_}var j=(w||(w=1,function(e,t){var r=S();function n(e){for(var r=t.cookie,n=t.levels(e),o=0;o<n.length;++o){var s="__tld__",i=n[o],a={domain:"."+i};if(r(s,1,a),r(s))return r(s,null,a),i}return""}n.levels=function(e){var t=("function"!=typeof window.URL?function(e){const t=document.createElement("a");return t.href=e,t.hostname}(e):new URL(e).hostname).split("."),r=t[t.length-1],n=[];if(4===t.length&&r===parseInt(r,10))return n;if(t.length<=1)return n;for(var o=t.length-2;o>=0;--o)n.push(t.slice(o).join("."));return n},n.cookie=r,t=e.exports=n}(A,A.exports)),A.exports);const D=r(j);function C(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function x(e){return function t(r){return 0===arguments.length||C(r)?t:e.apply(this,arguments)}}function k(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return C(r)?t:x(function(t){return e(r,t)});default:return C(r)&&C(n)?t:C(r)?x(function(t){return e(t,n)}):C(n)?x(function(t){return e(r,t)}):e(r,n)}}}function U(e){return function t(r,n,o){switch(arguments.length){case 0:return t;case 1:return C(r)?t:k(function(t,n){return e(r,t,n)});case 2:return C(r)&&C(n)?t:C(r)?k(function(t,r){return e(t,n,r)}):C(n)?k(function(t,n){return e(r,t,n)}):x(function(t){return e(r,n,t)});default:return C(r)&&C(n)&&C(o)?t:C(r)&&C(n)?k(function(t,r){return e(t,r,o)}):C(r)&&C(o)?k(function(t,r){return e(t,n,r)}):C(n)&&C(o)?k(function(t,n){return e(r,t,n)}):C(r)?x(function(t){return e(t,n,o)}):C(n)?x(function(t){return e(r,t,o)}):C(o)?x(function(t){return e(r,n,t)}):e(r,n,o)}}}const R=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function N(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function P(e,t,r){for(var n=0,o=r.length;n<o;){if(e(t,r[n]))return!0;n+=1}return!1}function L(e,t){return Object.prototype.hasOwnProperty.call(t,e)}const T="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var M=Object.prototype.toString,$=function(){return"[object Arguments]"===M.call(arguments)?function(e){return"[object Arguments]"===M.call(e)}:function(e){return L("callee",e)}}(),q=!{toString:null}.propertyIsEnumerable("toString"),V=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(){return arguments.propertyIsEnumerable("length")}(),G=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},F="function"!=typeof Object.keys||B?x(function(e){if(Object(e)!==e)return[];var t,r,n=[],o=B&&$(e);for(t in e)!L(t,e)||o&&"length"===t||(n[n.length]=t);if(q)for(r=V.length-1;r>=0;)L(t=V[r],e)&&!G(n,t)&&(n[n.length]=t),r-=1;return n}):x(function(e){return Object(e)!==e?[]:Object.keys(e)}),Y=x(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function z(e,t,r,n){var o=N(e);function s(e,t){return H(e,t,r.slice(),n.slice())}return!P(function(e,t){return!P(s,t,e)},N(t),o)}function H(e,t,r,n){if(T(e,t))return!0;var o,s,i=Y(e);if(i!==Y(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(s=String(o).match(/^function (\w*)/))?"":s[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!T(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!T(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var a=r.length-1;a>=0;){if(r[a]===e)return n[a]===t;a-=1}switch(i){case"Map":return e.size===t.size&&z(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&z(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=F(e);if(c.length!==F(t).length)return!1;var u=r.concat([e]),l=n.concat([t]);for(a=c.length-1;a>=0;){var d=c[a];if(!L(d,t)||!H(t[d],e[d],u,l))return!1;a-=1}return!0}var W=k(function(e,t){return H(e,t,[],[])});function J(e){return"[object Object]"===Object.prototype.toString.call(e)}function Z(e,t,r){if(r||(r=new Q),function(e){var t=typeof e;return null==e||"object"!=t&&"function"!=t}(e))return e;var n,o=function(t){var n=r.get(e);if(n)return n;for(var o in r.set(e,t),e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=Z(e[o],!0,r));return t};switch(Y(e)){case"Object":return o(Object.create(Object.getPrototypeOf(e)));case"Array":return o(Array(e.length));case"Date":return new Date(e.valueOf());case"RegExp":return n=e,new RegExp(n.source,n.flags?n.flags:(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.sticky?"y":"")+(n.unicode?"u":"")+(n.dotAll?"s":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var Q=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(e,t){var r=this.hash(e),n=this.map[r];n||(this.map[r]=n=[]),n.push([e,t]),this.length+=1},e.prototype.hash=function(e){var t=[];for(var r in e)t.push(Object.prototype.toString.call(e[r]));return t.join()},e.prototype.get=function(e){if(this.length<=180)for(var t in this.map)for(var r=this.map[t],n=0;n<r.length;n+=1){if((s=r[n])[0]===e)return s[1]}else{var o=this.hash(e);if(r=this.map[o])for(n=0;n<r.length;n+=1){var s;if((s=r[n])[0]===e)return s[1]}}},e}(),X=x(function(e){return null!=e&&"function"==typeof e.clone?e.clone():Z(e)});var ee=x(function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():e==Set||e instanceof Set?new Set:e==Map||e instanceof Map?new Map:R(e)?[]:function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)?"":J(e)?{}:$(e)?function(){return arguments}():function(e){var t=Object.prototype.toString.call(e);return"[object Uint8ClampedArray]"===t||"[object Int8Array]"===t||"[object Uint8Array]"===t||"[object Int16Array]"===t||"[object Uint16Array]"===t||"[object Int32Array]"===t||"[object Uint32Array]"===t||"[object Float32Array]"===t||"[object Float64Array]"===t||"[object BigInt64Array]"===t||"[object BigUint64Array]"===t}(e)?e.constructor.from(""):void 0}),te=x(function(e){return null!=e&&W(e,ee(e))}),re=U(function(e,t,r){var n,o={};for(n in r=r||{},t=t||{})L(n,t)&&(o[n]=L(n,r)?e(n,t[n],r[n]):t[n]);for(n in r)L(n,r)&&!L(n,o)&&(o[n]=r[n]);return o}),ne=U(function e(t,r,n){return re(function(r,n,o){return J(n)&&J(o)?e(t,n,o):t(r,n,o)},r,n)}),oe=U(function(e,t,r){return ne(function(t,r,n){return e(r,n)},t,r)});let se=3;const ie={setLogLevel(e){switch(e.toUpperCase()){case"INFO":se=1;break;case"DEBUG":se=2;break;default:se=3}},info(...e){se<=1&&console.info(...e)},debug(...e){se<=2&&console.log(...e)},warn(...e){se<=3&&console.warn(...e)},error(...e){se<=4&&console.error(...e)}},ae=e=>!(e=>void 0===e)(e),ce=e=>e?0===Object.keys(e).length:(ie.warn("input is undefined or null"),!0),ue=(e,t)=>{if(!Array.isArray(e)||!Array.isArray(t))return X(t);const r=X(e);return t.forEach((e,t)=>{r[t]=Array.isArray(e)||(e=>!(e=>null===e)(e)&&(e=>"object"==typeof e)(e)&&!Array.isArray(e))(e)?le(r[t],e):e}),r},le=(e,t)=>oe(ue,e,t);const de=new class{constructor(e){this.cOpts={},this.options(e),this.isSupportAvailable=this.checkSupportAvailability()}options(e={}){if(0===arguments.length)return this.cOpts;let t=`.${D(window.location.href)}`;return"."===t&&(t=null),this.cOpts=le({maxage:31536e6,path:"/",domain:t,samesite:"Lax"},e),e.sameDomainCookiesOnly&&delete this.cOpts.domain,this.cOpts}set(e,t){try{return m(e,t,X(this.cOpts)),!0}catch(e){return ie.error(e),!1}}get(e){return m(e)}remove(e){try{return m(e,null,X(this.cOpts)),!0}catch(e){return!1}}checkSupportAvailability(){const e="test_rudder_cookie";return this.set(e,!0),!!this.get(e)&&(this.remove(e),!0)}}({}),pe={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}};class fe{constructor(e,t){this.level=+t||pe.ERROR.value,this.scope=e||""}setLogLevel(e){if(e&&"string"==typeof e){const t=e.toUpperCase();this.level=pe[t]?pe[t].value:this.level}}setScope(e){this.scope=e||this.scope}log(...e){this.logBase(e,pe.LOG.value)}info(...e){this.logBase(e,pe.INFO.value)}debug(...e){this.logBase(e,pe.DEBUG.value)}warn(...e){this.logBase(e,pe.WARN.value)}error(...e){this.logBase(e,pe.ERROR.value)}logBase(e,t){if(this.level<=t){Object.values(pe).find(e=>e.value===t).method(...this.getLogData(e))}}getLogData(e){if(Array.isArray(e)&&e.length>0){let t="%c RS SDK";this.scope&&(t=`${t} - ${this.scope}`);t=`${t} %c ${e[0].trim()}`;const r=[];return r.push(t),r.push("font-weight: bold; background: black; color: white;"),r.push("font-weight: normal;"),r.push(...e.slice(1)),r}return e}}const me=["item_id","itemId","product_id","item_name","itemName","name","coupon","item_brand","itemBrand","brand","item_variant","itemVariant","variant","price","quantity","index","position","affiliation","discount","item_category","itemCategory","category","item_category2","item_category3","item_category4","item_category5","item_list_id","item_list_name","location_id"],ye=[{sourceKeys:["product_id","itemId"],destKey:"item_id"},{sourceKeys:["name","itemName"],destKey:"item_name"},{sourceKeys:"coupon",destKey:"coupon"},{sourceKeys:["brand","itemBrand"],destKey:"item_brand"},{sourceKeys:["variant","itemVariant"],destKey:"item_variant"},{sourceKeys:"price",destKey:"price",metadata:{type:"toNumber"}},{sourceKeys:"quantity",destKey:"quantity",metadata:{type:"toNumber"}},{sourceKeys:"position",destKey:"index",metadata:{type:"toNumber"}},{sourceKeys:"affiliation",destKey:"affiliation"},{sourceKeys:"discount",destKey:"discount"},{sourceKeys:["category","itemCategory"],destKey:"item_category"},{sourceKeys:"item_category2",destKey:"item_category2"},{sourceKeys:"item_category3",destKey:"item_category3"},{sourceKeys:"item_category4",destKey:"item_category4"},{sourceKeys:"item_category5",destKey:"item_category5"},{sourceKeys:"item_list_id",destKey:"item_list_id"},{sourceKeys:"item_list_name",destKey:"item_list_name"},{sourceKeys:"location_id",destKey:"location_id"}],ge={method:{sourceKeys:"properties.method",destKey:"method"},product_cart_shared_method:{sourceKeys:"properties.share_via",destKey:"method"},currency:{sourceKeys:"properties.currency",destKey:"currency",metadata:{defaultValue:"USD"}},value:{sourceKeys:["properties.total","properties.value","properties.revenue","properties.price"],destKey:"value",metadata:{type:"toNumber"}},product_add_or_remove_value:{sourceKeys:["properties.total","properties.value","properties.revenue",{operation:"multiplication",args:[{sourceKeys:"properties.price"},{sourceKeys:"properties.quantity",defaultVal:1}]}],destKey:"value",metadata:{type:"toNumber"}},search:{sourceKeys:"properties.query",destKey:"search_term"},list_id:{sourceKeys:"properties.list_id",destKey:"item_list_id"},list_name:{sourceKeys:"properties.category",destKey:"item_list_name"},creative_name:{sourceKeys:["properties.creative_name","properties.creative"],destKey:"creative_name"},creative_slot:{sourceKeys:["properties.creative_slot","properties.position"],destKey:"creative_slot"},promotion_id:{sourceKeys:"properties.promotion_id",destKey:"promotion_id"},promotion_name:{sourceKeys:["properties.promotion_name","properties.name"],destKey:"promotion_name"},coupon:{sourceKeys:"properties.coupon",destKey:"coupon"},payment_method:{sourceKeys:"properties.payment_method",destKey:"payment_type"},shipping_method:{sourceKeys:"properties.shipping_method",destKey:"shipping_tier"},order_id:{sourceKeys:"properties.order_id",destKey:"transaction_id"},shipping:{sourceKeys:"properties.shipping",destKey:"shipping",metadata:{type:"toNumber"}},tax:{sourceKeys:"properties.tax",destKey:"tax",metadata:{type:"toNumber"}},content_type:{sourceKeys:"properties.content_type",destKey:"content_type"},item_id:{sourceKeys:["properties.item_id","properties.product_id","properties.sku"],destKey:"item_id"},cart_shared_item_id:{sourceKeys:["properties.item_id","properties.cart_id"],destKey:"item_id"},url:{sourceKeys:["properties.url","context.page.url"],destKey:"page_location"},referrer:{sourceKeys:["properties.referrer","context.page.referrer"],destKey:"page_referrer"},title:{sourceKeys:["properties.title","context.page.title"],destKey:"page_title"}},he={LOGIN:{event:"login",mapping:[ge.method]},SIGN_UP:{event:"sign_up",mapping:[ge.method]},GENERATE_LEAD:{event:"generate_lead",mapping:[ge.currency,{...ge.value,required:!0}]},PRODUCTS_SEARCHED:{event:"search",mapping:[ge.search]},PRODUCT_SEARCHED:{event:"search",mapping:[ge.search]},PRODUCT_LIST_VIEWED:{event:"view_item_list",itemList:"YES",mapping:[ge.list_id,ge.list_name]},PROMOTION_VIEWED:{event:"view_promotion",itemList:"YES",mapping:[ge.promotion_id,ge.creative_slot,ge.creative_name,ge.promotion_name]},PROMOTION_CLICKED:{event:"select_promotion",itemList:"NO",mapping:[ge.promotion_id,ge.creative_slot,ge.creative_name,ge.promotion_name]},PRODUCT_CLICKED:{event:"select_item",item:"YES",mapping:[ge.list_id,ge.list_name]},PRODUCTS_CLICKED:{event:"select_item",item:"YES",mapping:[ge.list_id,ge.list_name]},PRODUCT_VIEWED:{event:"view_item",item:"YES",mapping:[ge.currency,{...ge.value,required:!0}]},PRODUCT_ADDED:{event:"add_to_cart",itemList:"NO",item:"YES",mapping:[ge.currency,{...ge.product_add_or_remove_value,required:!0}]},PRODUCT_REMOVED:{event:"remove_from_cart",itemList:"NO",item:"YES",mapping:[ge.currency,{...ge.product_add_or_remove_value,required:!0}]},CART_VIEWED:{event:"view_cart",itemList:"YES",mapping:[ge.currency,{...ge.value,required:!0}]},CHECKOUT_STARTED:{event:"begin_checkout",itemList:"YES",mapping:[ge.currency,ge.coupon,{...ge.value,required:!0}]},PAYMENT_INFO_ENTERED:{event:"add_payment_info",itemList:"YES",mapping:[ge.currency,ge.coupon,ge.payment_method,{...ge.value,required:!0}]},CHECKOUT_STEP_COMPLETED:{event:"add_shipping_info",itemList:"YES",mapping:[ge.currency,ge.coupon,ge.shipping_method,{...ge.value,required:!0}]},ORDER_COMPLETED:{event:"purchase",itemList:"YES",mapping:[ge.tax,ge.coupon,ge.shipping,ge.currency,{...ge.value,required:!0},{...ge.order_id,required:!0}]},ORDER_REFUNDED:{event:"refund",itemList:"NO",mapping:[ge.tax,ge.coupon,ge.shipping,ge.currency,{...ge.value,required:!0},{...ge.order_id,required:!0}]},PRODUCT_ADDED_TO_WISHLIST:{event:"add_to_wishlist",itemList:"NO",item:"YES",mapping:[ge.currency,{...ge.value,required:!0}]},PRODUCT_SHARED:{event:"share",mapping:[ge.item_id,ge.content_type,ge.product_cart_shared_method]},CART_SHARED:{event:"share",mapping:[ge.content_type,ge.cart_shared_item_id,ge.product_cart_shared_method]},PAGE:{event:"page_view",mapping:[ge.url,ge.title,ge.referrer]}},ve=[he.PRODUCT_CLICKED.event,he.PRODUCT_VIEWED.event,he.PRODUCT_ADDED.event,he.PRODUCT_REMOVED.event,he.PRODUCT_ADDED_TO_WISHLIST.event];for(var _e=Object.defineProperty,be=(e,t)=>_e(e,"name",{value:t,configurable:!0}),we=be(e=>null!==e&&"object"==typeof e,"isObject"),Ae=be((e,t,r)=>"function"==typeof r.join?r.join(e):e[0]+t+e[1],"join"),Ee=be((e,t,r)=>"function"==typeof r.split?r.split(e):e.split(t),"split"),Oe=be((e,t={},r)=>"function"!=typeof r?.isValid||r.isValid(e,t),"isValid"),Ie=be(e=>we(e)||"function"==typeof e,"isValidObject"),Ke=be((e,t,r={})=>{if(we(r)||(r={default:r}),!Ie(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));const n=Array.isArray(t),o="string"==typeof t,s=r.separator||".",i=r.joinChar||("string"==typeof s?s:".");if(!o&&!n)return e;if(void 0!==e[t])return Oe(t,e,r)?e[t]:r.default;const a=n?t:Ee(t,s,r),c=a.length;let u=0;do{let t=a[u];for("string"!=typeof t&&(t=String(t));t&&"\\"===t.slice(-1);)t=Ae([t.slice(0,-1),a[++u]||""],i,r);if(void 0!==e[t]){if(!Oe(t,e,r))return r.default;e=e[t]}else{let n=!1,o=u+1;for(;o<c;)if(t=Ae([t,a[o++]],i,r),n=void 0!==e[t]){if(!Oe(t,e,r))return r.default;e=e[t],u=o-1;break}if(!n)return r.default}}while(++u<c&&Ie(e));return u===c?e:r.default},"getValue"),Se=256;Se--;)(Se+256).toString(16).substring(1);for(var je=0;je<256;je++)(je+256).toString(16).substring(1);const De=new fe("Utils");function Ce(e,t,r,n=new Set){const o=r;return n.has(e)?(o[t]="[Circular Reference]",r):(n.add(e),Object(e)!==e?o[t]=e:Array.isArray(e)?(()=>{const r=e.length;for(let s=0;s<r;s+=1)Ce(e[s],t?`${t}.${s}`:`${s}`,o,n);0===r&&(o[t]=[])})():(()=>{let r=!0;Object.keys(e).forEach(s=>{r=!1,Ce(e[s],t?`${t}.${s}`:s,o,n)}),r&&(o[t]={})})(),n.delete(e),o)}function xe(e,t=""){return Ce(e,t,{})}function ke(e,t,r,n){const o=[],s=t||{};return Array.isArray(r)?r.forEach(t=>{const r=Ke(e,t);r&&(Object.keys(r).forEach(e=>{n.includes(e)||o.push(e)}),o.forEach(e=>{void 0!==r[e]&&(s[e]=Ke(r,e))}))}):"root"===r?(Object.keys(e).forEach(e=>{n.includes(e)||o.push(e)}),o.forEach(t=>{void 0!==e[t]&&(s[t]=Ke(e,t))})):De.debug("unable to parse keys"),s}const Ue=e=>ae(e)&&(e=>null!==e)(e),Re=({message:e,operationObject:t})=>{const{operation:r,args:n}=t,o=n.map(t=>{const{sourceKeys:r,defaultVal:n}=t,o=Ke(e,r);return o||!1===o||0===o?o:n});if(!o.every(e=>Ue(e)))return null;let s=null;switch(r){case"multiplication":s=1;for(const e of o){if("number"!=typeof e)return null;s*=e}return s.toFixed(2);case"addition":s=0;for(const e of o){if("number"!=typeof e)return null;s+=e}return s.toFixed(2);default:return null}},Ne=(e,t)=>{let r=e;const n={jsonStringify:()=>{r=JSON.stringify(e)},jsonStringifyOnObject:()=>{"string"!=typeof e&&(r=JSON.stringify(e))},toString:()=>{r=String(e)},toNumber:()=>{r=Number(e)},toFloat:()=>{r=parseFloat(e)},toInt:()=>{r=parseInt(e,10)},toLower:()=>{r=e.toString().toLowerCase()},trim:()=>{"string"==typeof e&&(r=e.trim())},IsBoolean:()=>{r=!0,"boolean"!=typeof e&&(De.debug("Boolean value missing, so dropping it"),r=!1)}};if(t in n){(0,n[t])()}return r},Pe=(e,t)=>{const r={};return Array.isArray(t)&&t.length>0&&t.forEach(t=>{const{sourceKeys:n,destKey:o,metadata:s}=t,i=((e,t)=>{if(!t)return e;const{type:r,defaultValue:n}=t;if(!Ue(e))return n||e;let o=e;return r&&(Array.isArray(r)?r.forEach(e=>{o=Ne(o,e)}):o=Ne(o,r)),o})(((e,t)=>{if(Array.isArray(t)&&t.length>0){for(const r of t){let t;if(t="object"==typeof r?Re({message:e,operationObject:r}):Ke(e,r),t||!1===t||0===t)return t}return null}return"object"==typeof t?Re({message:e,operationObject:t}):Ke(e,t)})(e,n),s);(i||0===i||!1===i)&&o&&(r[o]=i)}),r};function Le(e,t=".",r="normal"){const n={};let o;return function e(s,i,a=new Set){let c;if(a.has(s))n[i]="[Circular Reference]";else{if(a.add(s),Object(s)!==s)n[i]=s;else if(Array.isArray(s)){for(c=0,o=s.length;c<o;c+=1)e(s[c],"strict"===r?`${i}${t}${c}`:`${i}[${c}]`,a);0===o&&(n[i]=[])}else{let r=!0;Object.keys(s).forEach(n=>{r=!1,e(s[n],i?`${i}${t}${n}`:n,a)}),r&&i&&(n[i]={})}a.delete(s)}}(e,""),n}const Te=new fe(t),Me=e=>e.split(".").pop(),$e=e=>{const t={};if("object"==typeof e&&!Array.isArray(e)){return Object.keys(e).forEach(r=>{const n=e[r];("items"===r||"object"!=typeof n&&!(e=>"string"==typeof e&&te(e.trim()))(n))&&(t[r]=n)}),t}return e},qe=(e,t,r)=>{let n={};return n=ke(e,n,t,r),ce(n)||(n=Le(n,"_","strict")),n},Ve=e=>{const t=[],{properties:r}=e;let n=r?.products,o=!1;return"object"!=typeof n||Array.isArray(n)||(o=!0,n=[n]),Array.isArray(n)&&n.forEach((r,n)=>{let s=Pe(r,ye);const i=ke(e,{},o?["properties.products"]:[`properties.products.${n}`],me);ce(i)||(s=$e({...s,...Le(i,"_","strict")})),ce(s)||t.push(s)}),t},Be=e=>{const{properties:t}=e,r=[];if(t&&Object.keys(t).length>0){const e=Pe(t,ye);ce(e)||r.push(e)}return r},Ge=(e,t)=>{const{event:r,mapping:n}=t;let o=Pe(e,n);if(Array.isArray(n)&&n.length>0){if(n.some(e=>{return t=o[e.destKey],!(ae(t)&&(e=>null!=e)(t)||!e.required)&&(Te.error(`Missing required value from ${JSON.stringify(e.sourceKeys)}`),!0);var t}))return null}const{items:s,mapRootLevelPropertiesToGA4ItemsArray:i}=((e,t)=>{const{itemList:r,item:n}=t;let o=[],s=!1;return r&&n?(o=Ve(e),o&&o.length>0||(s=!0,o=Be(e))):n?(s=!0,o=Be(e)):r&&(o=Ve(e)),{items:o,mapRootLevelPropertiesToGA4ItemsArray:s}})(e,t),a=((e,t,r)=>{let n=t.reduce((e,t)=>{const r=t.sourceKeys;return"string"==typeof r?e.push(Me(r)):Array.isArray(r)&&r.forEach(t=>{"string"==typeof t&&e.push(Me(t))}),e},[]);return n.push("products"),e&&ve.includes(r)&&(n=n.concat(me)),n})(i,n,r),c=qe(e,["properties"],a);return s.length>0&&(o.items=s),ce(c)||(o={...o,...c}),o},Fe=(e,t)=>{const r=he[`${t.toUpperCase()}`],n=r?Ge(e,r):(e=>qe(e,["properties"],[]))(e);if(!n)return null;return{params:$e(n),event:r?r.event:t}},Ye=new fe(t);return e.GA4=class{constructor(e,t,r){var n;t.logLevel&&Ye.setLogLevel(t.logLevel),this.name="GA4",this.clientId="",this.sessionId="",this.sessionNumber="",this.cookie=de,this.sendUserId=!0,this.analytics=t,this.measurementId=e.measurementId,this.debugView=e.debugView||!1,this.capturePageView=e.capturePageView||"rs",this.isHybridModeEnabled="hybrid"===e.connectionMode,this.piiPropertiesToIgnore=e.piiPropertiesToIgnore||[],this.extendPageViewParams=e.extendPageViewParams||!1,this.overrideClientAndSessionId=e.overrideClientAndSessionId||!1,this.sdkBaseUrl=(n=e.sdkBaseUrl,(n?.endsWith("/")?n.replace(/\/+$/,""):n)||"https://www.googletagmanager.com"),this.serverContainerUrl=e.serverContainerUrl||null,this.isExtendedGa4_V2=e.isExtendedGa4_V2||!1,({shouldApplyDeviceModeTransformation:this.shouldApplyDeviceModeTransformation,propagateEventsUntransformedOnError:this.propagateEventsUntransformedOnError,destinationId:this.destinationId}=r??{})}loadScript(e,t){window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){window.dataLayer.push(arguments)},window.gtag("js",new Date);const r={};var n;if(Ue(this.serverContainerUrl)&&(r.server_container_url=this.serverContainerUrl),"rs"===this.capturePageView&&(r.send_page_view=!1),this.sendUserId=(n=this.analytics.loadOnlyIntegrations,n?.GA4?.sendUserId??!0),this.sendUserId&&this.analytics.getUserId()&&(r.user_id=this.analytics.getUserId()),this.isHybridModeEnabled&&this.overrideClientAndSessionId)r.cookie_prefix="rs",r.client_id=this.analytics.getAnonymousId(),r.session_id=this.analytics.getSessionId();else if(!this.isExtendedGa4_V2){const e=this.cookie.get("rs_ga"),t=this.cookie.get("_ga"),n=this.measurementId.split("-"),o=this.cookie.get(`rs_ga_${n[1]}`);if(!t&&e&&o){const t=e.split("."),n=t.length>3?`${t[2]}.${t[3]}`:t[2],s=o.split(".")[2];n&&(r.client_id=n),s&&(r.session_id=s)}this.cookie.remove("rs_ga"),this.cookie.remove(`rs_ga_${n[1]}`)}this.debugView&&(r.debug_mode=!0),0===Object.keys(r).length?window.gtag("config",e):window.gtag("config",e,r),window.gtag("get",this.measurementId,"session_id",e=>{this.sessionId=e}),window.gtag("get",this.measurementId,"client_id",e=>{this.clientId=e}),window.gtag("get",this.measurementId,"session_number",e=>{this.sessionNumber=e}),((e,t,r={})=>{if(document.getElementById(e))return;const n=document.createElement("script");n.src=t,n.async=void 0===r.async||r.async,n.type="text/javascript",n.id=e,!0!==r.skipDatasetAttributes&&(n.setAttribute("data-loader","RS_JS_SDK"),void 0!==r.isNonNativeSDK&&n.setAttribute("data-isNonNativeSDK",r.isNonNativeSDK));const o=document.getElementsByTagName("head");if(o.length>0)o[0].insertBefore(n,o[0].firstChild);else{const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}})("google-analytics 4",`${t}/gtag/js?id=${e}`)}init(){this.loadScript(this.measurementId,this.sdkBaseUrl)}isLoaded(){return!(!this.sessionId||!this.clientId)}isReady(){return this.isLoaded()}identify(e){const{message:t}=e,{traits:r}=t.context,n=((e,t)=>{const r=[],n={},o=t,s={};return e.length>0&&e.forEach(e=>{"string"==typeof e.piiProperty&&""!==e.piiProperty.trim()&&r.push(e.piiProperty.trim())}),Object.keys(o).forEach(e=>{const t=o[e];r.includes(e)?n[e]=null:s[e]=t}),{...n,...s}})(this.piiPropertiesToIgnore,r);if(Object.keys(n).length>0&&window.gtag("set","user_properties",n),this.sendUserId&&t.userId){const{userId:e}=t;window.gtag("config",this.measurementId,{user_id:e})}}track(e){if(this.isHybridModeEnabled)return;const{message:t}=e,r=(e=>{if(!e||"string"!=typeof e)return Te.error("Event name is required and should be a string"),null;const t=e.trim().replace(/\s+/g,"_");return["click","error","scroll","form_start","form_submit","first_open","first_visit","app_remove","video_start","session_start","view_complete","file_download","video_progress","user_engagement","in_app_purchase","app_store_refund","app_store_subscription_cancel","app_store_subscription_renew"].includes(t)?(Te.error(`Reserved event name ${t} is not allowed`),null):t})(t?.event);if(!r)return void Ye.error("Event name is required");const n=Fe(t,r);if(!n)return;const{params:o,event:s}=n,i=this.addSendToAndMeasurementIdToPayload(o,e);window.gtag("event",s,i)}page(e){if("rs"===this.capturePageView){const{message:t}=e,{properties:r}=t;let n=Pe(t,he.PAGE.mapping);n=this.addSendToAndMeasurementIdToPayload(n,e),this.extendPageViewParams?window.gtag("event","page_view",{...xe(r),...n}):window.gtag("event","page_view",n)}}group(e){if(this.isHybridModeEnabled)return;const{groupId:t,traits:r}=e.message;let n=r;n=this.addSendToAndMeasurementIdToPayload(n,e);const o={group_id:t,...n};window.gtag("event","join_group",o)}addSendToAndMeasurementIdToPayload(e,t){const{message:r}=t,{userId:n}=r,o=e;return o.send_to=this.measurementId,this.sendUserId&&n&&(o.user_id=n),o}getDataForIntegrationsObject(){return{[t]:{clientId:this.clientId,sessionId:this.sessionId,sessionNumber:this.sessionNumber}}}getClientDetails(){return{clientId:this.clientId,sessionId:this.sessionId,sessionNumber:this.sessionNumber}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
//# sourceMappingURL=GA4.min.js.map
